<html>
  <head>
    <script type="text/javascript" src="js/jquery.js"></script>
    <script>
var lastTime = 0;
window.setInterval("lastTime = document.getElementById(target).currentTime;", 500);
var target = "audio1";

function addAudio() {
	$("#container").html('<audio id="audio1" autoplay="autoplay" currentTime="35" startTime="40" start="30" onended="document.getElementById(\'message\').innerHTML = \'I\\\'m done!\';" onpause="document.getElementById(\'message\').innerHTML = \'Paused at: \'+this.currentTime;" src="http://www.podiobooks.com/sample/69501/PB-Contagious-01.mp3" height="1px" width="1px"></audio>');
	$("#container").append('<audio id="audio2" onended="document.getElementById(\'message\').innerHTML = \'I\\\'m done!\';" onpause="document.getElementById(\'message\').innerHTML = \'Paused at: \'+this.currentTime;" src="http://www.podiobooks.com/sample/69581/PB-Contagious-02.mp3" height="1px" width="1px"></audio>');
	$("#container").append('<audio id="audio3" onended="document.getElementById(\'message\').innerHTML = \'I\\\'m done!\';" onpause="document.getElementById(\'message\').innerHTML = \'Paused at: \'+this.currentTime;" src="http://www.podiobooks.com/sample/69630/PB-Contagious-03.mp3" height="1px" width="1px"></audio>');
	$("#container").append('<audio id="audio4" onended="document.getElementById(\'message\').innerHTML = \'I\\\'m done!\';" onpause="document.getElementById(\'message\').innerHTML = \'Paused at: \'+this.currentTime;" src="http://www.podiobooks.com/sample/69654/PB-Contagious-04.mp3" height="1px" width="1px"></audio>');
	$("#container").append('<audio id="audio5" onended="document.getElementById(\'message\').innerHTML = \'I\\\'m done!\';" onpause="document.getElementById(\'message\').innerHTML = \'Paused at: \'+this.currentTime;" src="http://www.podiobooks.com/sample/69686/PB-Contagious-05.mp3" height="1px" width="1px"></audio>');
	$("#container").append('<audio id="audio6" onended="document.getElementById(\'message\').innerHTML = \'I\\\'m done!\';" onpause="document.getElementById(\'message\').innerHTML = \'Paused at: \'+this.currentTime;" src="http://www.podiobooks.com/sample/69772/PB-Contagious-06.mp3" height="1px" width="1px"></audio>');
	$("#container").append('<audio id="audio7" onended="document.getElementById(\'message\').innerHTML = \'I\\\'m done!\';" onpause="document.getElementById(\'message\').innerHTML = \'Paused at: \'+this.currentTime;" src="http://www.podiobooks.com/sample/69804/PB-Contagious-07.mp3" height="1px" width="1px"></audio>');
	//window.setTimeout("playPause()", 5000);
}

function appendPlay() {
	window.setTimeout("playPause()", 1000);
	target = "appended";
	$("#container").html('<audio id="appended" autoplay="autoplay" currentTime="35" startTime="40" start="30" onended="document.getElementById(\'message\').innerHTML = \'I\\\'m done!\';" onpause="document.getElementById(\'message\').innerHTML = \'Paused at: \'+this.currentTime;" src="http://www.podiobooks.com/sample/69501/PB-Contagious-01.mp3" height="1px" width="1px"></audio>');
}

function playPause() {
  var myVideo = document.getElementById(target);
  if(myVideo.paused) {
    myVideo.play();
    //window.setTimeout("playPause()", 10000);
  } else {
    myVideo.pause();
  }
}

function remove() {
	  var element = document.getElementById(target);
	  element.parentNode.removeChild(element);
}

function displayPosition() {
	var seconds = (lastTime%60).toFixed(0);
	if(seconds < 10) {
		seconds = "0"+seconds;
	}
	var position = "Last Position: ";
	position += (Math.floor(lastTime/60)).toFixed(0)+':'+seconds;
	document.getElementById('message').innerHTML = position;
}

function getDuration() {
  var myVideo = document.getElementById(target);
  document.getElementById("message").innerHTML='Duration: '+myVideo.duration;
}

    </script>
    <title>Podiobooks.com</title>
  </head>

  <body onload="addAudio();">
      <div id="parent" align="center">
		<span id="message"></span><br/>
		<input value="audio1" type="text" id="target">
        <input value="Set target" type="button" onclick="target = $('#target').attr('value');">
        <input value="Play/Pause" type="button" onclick="playPause()">
        <input value="Get Duration" type="button" onclick="getDuration()">
        <input value="Get Position" type="button" onclick="document.getElementById('message').innerHTML = 'Current Position: '+document.getElementById(target).currentTime;" >
        <input value="Is Ended" type="button" onclick="document.getElementById('message').innerHTML = 'Is Ended: '+document.getElementById(target).ended;">
        <input value="Get Last Time" type="button" onclick="displayPosition()" >
        <br/>
        <input value="Append and Play" type="button" onclick="appendPlay()" >
        <div id="container" style="visibility: hidden; height: 1px; width: 1px; position: absolute; bottom: -100px; right: -100px">
        </div>
      </div>
  </body>
</html>
